{% with messages = get_flashed_messages() %}
  {% if messages %}
    <div class="flash">
        {% for message in messages %}
          <span>{{ message }}</span>
        {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<table>
  <thead>
    <tr>
      <th>ID Data train</th>
      <th>Text</th>
      <th>Class ID</th>
      <th>Create at</th>
      <th>Create by</th>
      <th>Update at</th>
      <th>Update by</th>
      <th>Chức năng</th>
    </tr>
  </thead>
  <tbody>
    {% for row in data %}
    <tr>
      <td>{{ row[0] }}</td>
      <td>{{ row[1] }}</td>
      <td>{{ row[8] }}</td>
      <td>{{ row[3] }}</td>
      <td>{{ row[4] }}</td>
      <td>{{ row[5] }}</td>
      <td>{{ row[6] }}</td>
      <td>
        <button onclick="editDataTrain('{{ row[0] }}')">Sửa</button>
        <button onclick="deleteDataTrain('{{ row[0] }}')">Xóa</button>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<script>
  function editDataTrain(id_dtrain) {
    window.location.href = `/update_one_data_train/${id_dtrain}`;
  }

  function deleteDataTrain(id_dtrain) {
    window.location.href = `/delete_one_data_train/${id_dtrain}`;
  }

  setTimeout(function() {
    document.querySelector('.flash').style.display = 'none';
  }, 3000);
</script>